<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QRtap → RingGo</title>
  <meta name="description" content="Introdu datele și continuă către RingGo. Nu stocăm nimic." />
  <style>
    :root{
      --bg:#0b1020; --card:#121726; --muted:#1b2338;
      --text:#eef2f7; --line:#1f2637; --accent:#21c48d;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text);}
    .wrap{max-width:680px; margin:0 auto; padding:20px;}
    .card{background:var(--card); border:1px solid var(--line); border-radius:18px; padding:22px; box-shadow:0 10px 28px rgba(0,0,0,.35)}
    h1{margin:0 0 8px; font-size:26px}
    p.hint{margin:6px 0 18px; color:#a9b2c7; font-size:15px}
    label{display:block; margin:14px 6px 6px; font-weight:600}
    input, select{
      width:100%; background:#0f1424; border:1px solid var(--line);
      color:var(--text); padding:14px; border-radius:12px; outline:none;
    }
    .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    .btn{
      display:inline-block; width:100%; text-align:center; border-radius:14px;
      padding:14px 18px; font-weight:800; cursor:pointer; border:0;
      background:var(--accent); color:#062217;
    }
    .btn:disabled{opacity:.6; cursor:not-allowed}
    .sub{margin-top:8px; text-align:center; color:#9aa6bf; font-size:13px}
    .toast{
      display:none; margin-top:12px; padding:12px 14px; border-radius:10px;
      background:#0e2b20; color:#c9ffea; border:1px solid #135a45; font-size:14px;
    }
    .badge{display:inline-block; padding:4px 10px; border-radius:999px; background:#11223a; border:1px solid #1f3357; color:#a9c8ff; font-size:12px}
    a.logo{display:inline-block; text-decoration:none; color:#9bc; font-weight:700}
    .actions{display:grid; gap:10px; margin-top:16px}
    @media (max-width:700px){ .row{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div style="display:flex;align-items:center;gap:10px;justify-content:space-between">
        <h1 style="margin:0">RingGo</h1>
        <span class="badge">qrtap.org</span>
      </div>
      <p class="hint">Completează, apoi apasă <b>Copy & Continue</b>. Deschidem RingGo; datele tale rămân doar la tine.</p>

      <form id="f">
        <label for="loc">Parking location (cod sau nume)</label>
        <input id="loc" name="loc" placeholder="ex. 647987" inputmode="numeric" required>

        <label for="plate">Car plate number</label>
        <input id="plate" name="plate" placeholder="ex. AB12 CDE" required>

        <label for="dur">Duration</label>
        <select id="dur" name="dur" required>
          <option value="" selected hidden>— choose duration —</option>
          <option>30 min</option>
          <option>1 h</option>
          <option>2 h</option>
          <option>3 h</option>
          <option>4 h</option>
          <option>All day</option>
        </select>

        <div class="actions">
          <button class="btn" id="goBtn" type="submit">Copy & Continue to RingGo</button>
        </div>

        <div class="toast" id="toast">Copied: <span id="copied"></span></div>
        <p class="sub">Plata și introducerea finală a datelor se fac pe site-ul/app-ul RingGo.</p>
      </form>
    </div>
  </div>

  <script>
    const f = document.getElementById('f');
    const toast = document.getElementById('toast');
    const copied = document.getElementById('copied');
    const RINGGO_URL = "https://myringgo.co.uk/"; // destinația oficială

    f.addEventListener('submit', async (e) => {
      e.preventDefault();

      const plate = document.getElementById('plate').value.trim();
      const loc   = document.getElementById('loc').value.trim();
      const dur   = document.getElementById('dur').value.trim();

      if(!plate || !loc || !dur){
        alert('Te rog completează toate câmpurile.');
        return;
      }

      // Text util pentru lipit rapid în RingGo
      const clip = `Plate: ${plate} • Location: ${loc} • Duration: ${dur}`;
      try {
        await navigator.clipboard.writeText(clip);
        copied.textContent = clip;
        toast.style.display = 'block';
        setTimeout(()=> toast.style.display='none', 1500);
      } catch(err){
        // Dacă clipboard nu e permis, nu blocăm fluxul
      }

      // Opțional: trecem datele în query (RingGo le va ignora, dar ție îți pot ajuta la analytics)
      const qs = new URLSearchParams({ plate, loc, dur }).toString();
      const url = RINGGO_URL + (RINGGO_URL.includes('?') ? '&' : '?') + qs;

      // Redirect
      window.location.href = RINGGO_URL; // folosește URL-ul curat
      // Dacă preferi să păstrezi query-ul pentru tracking, înlocuiește linia de mai sus cu:
      // window.location.href = url;
    });
  </script>
</body>
</html>
